# 基于深度学习手势识别模型低延迟上肢辅助机械手

## 硬件设计

- 机械手设计框架

  1. 通过肌电传感器获取肌电信号，使用Arduino对肌电信号进行ADC采集、滤波等处理

  2. 使用UART与Jetson nano进行通讯

  3. 将肌电信号识别的模型部署于Jetson nano上，让Jetson nano进行手势识别，获取每个关节的角度，将每一个关节的角度通过UART传输到STM32，进而对每一个电机进行控制

     ![img](file:///C:/Users/HP/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png)

- 肌电传感器设计

	1. 肌电信号传感器设计是基于AD620仪用放大器和LM321低功耗运算放大器，通过三个医用电极将表面肌电信号处理为可量化的模拟电信号。采集端和接收端采用了STM32F411CCU6作为主控核心，负责表面肌电信号的采集、处理和传送。
	2. 传感器的设计采用AD620仪用放大来对表面肌电信号进行第一级的放大，采用低通滤波器和高通滤波器所组成的带通滤波对表面肌电信号进行滤波，并且采用加法器将滤波后的交流信号转换为直流信号。STM32F411CCU6作为主控芯片主要负责信号的采集与滤波。

- Jetson nano部署

	1. 在Jetson nano上我们将部署ROS2，将肌电信号处理、深度学习模型推理和电机控制分别封装成不同的节点，通过发布/订阅模式进行通信。此外ROS2支持实时数据流处理，可以高效地处理肌电信号等高速数据流。
	2. 节点的设计如下图所示，我们将接收数据、数据预处理、模型推理、发布消息分别设计为节点，从而避免Jetson nano在处理数据的时候，忽略上传的数据从而导致数据丢失。
	
	![img](file:///C:/Users/HP/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png)
	
	通过使用ROS2，机械手可以实现高效的模块化设计、分布式计算、实时数据管理、强大的调试和可视化工具、灵活的系统集成和扩展、以及高度的安全性和可靠性。这些特性不仅提高了系统的开发效率，还确保了系统的稳定性和性能。
	
- 电机算法控制
	1. 机械手的电机采用的是伺服电机，这是由于机械手模拟人类关节的自然运动，要求高精度的位置控制和快速的响应速度。伺服电机具有高精度的位置控制能力。通过内置的编码器或传感器，可以实时反馈电机的位置，从而实现非常精确的控制。此外具有快速的响应速度和动态性能，能够在短时间内达到目标位置。这对于智能义肢的快速反应和灵活控制非常重要。
	2. Jetson nano处理好数据之后，将结果下发到STM32，stm32根据计算出来的每个关节的角度对伺服电机进行控制。此外，引入PID来控制伺服电机，PID控制器能够基于误差自动调整控制量，从而使得系统能够更加精确地达到期望的状态。于PID控制器结合了比例、积分和微分三个部分的作用，它不仅能够纠正静态误差，还能预测未来的趋势，因此即使在存在外部干扰的情况下也能维持较好的控制性能。
	
	